; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
extra_configs = 
	variants/*/platformio.ini

[arduino_base]
framework = arduino
monitor_speed = 115200
lib_deps = 
	SPI
	Wire
	jgromes/RadioLib @ ^7.1.2
	rweather/Crypto @ ^0.4.0
	adafruit/RTClib @ ^2.1.3
	melopero/Melopero RV3028 @ ^1.1.0
	electroniccats/CayenneLPP @ 1.4.0
build_flags = -w -DNDEBUG -DRADIOLIB_STATIC_ONLY=1 -DRADIOLIB_GODMODE=1
	-D LORA_FREQ=902.125
	-D LORA_BW=250
	-D LORA_SF=11
	-D ENABLE_PRIVATE_KEY_IMPORT=1
	-D ENABLE_PRIVATE_KEY_EXPORT=1
	-D RADIOLIB_EXCLUDE_CC1101=1
	-D RADIOLIB_EXCLUDE_RF69=1
	-D RADIOLIB_EXCLUDE_SX1231=1
	-D RADIOLIB_EXCLUDE_SI443X=1
	-D RADIOLIB_EXCLUDE_RFM2X=1
	-D RADIOLIB_EXCLUDE_SX128X=1
	-D RADIOLIB_EXCLUDE_AFSK=1
	-D RADIOLIB_EXCLUDE_AX25=1
	-D RADIOLIB_EXCLUDE_HELLSCHREIBER=1
	-D RADIOLIB_EXCLUDE_MORSE=1
	-D RADIOLIB_EXCLUDE_APRS=1
	-D RADIOLIB_EXCLUDE_BELL=1
	-D RADIOLIB_EXCLUDE_RTTY=1
	-D RADIOLIB_EXCLUDE_SSTV=1
build_src_filter = 
	+<*.cpp>
	+<helpers/*.cpp>
	+<helpers/radiolib/*.cpp>

[esp32_base]
extends = arduino_base
platform = platformio/espressif32@^6.11.0
monitor_filters = esp32_exception_decoder
extra_scripts = merge-bin.py
build_flags = ${arduino_base.build_flags}
build_src_filter = ${arduino_base.build_src_filter}

[esp32_ota]
lib_deps = 
	me-no-dev/ESPAsyncWebServer @ ^3.6.0
	file://arch/esp32/AsyncElegantOTA

[esp32c6_base]
extends = esp32_base
platform = https://github.com/pioarduino/platform-espressif32/releases/download/stable/platform-espressif32.zip

[nrf52_base]
extends = arduino_base
platform = nordicnrf52
build_flags = ${arduino_base.build_flags}
	-D NRF52_PLATFORM
	-D LFS_NO_ASSERT=1

[rp2040_base]
extends = arduino_base
upload_protocol = picotool
board_build.core = earlephilhower
platform = https://github.com/maxgerhardt/platform-raspberrypi.git
build_flags = ${arduino_base.build_flags}
	-D RP2040_PLATFORM

[stm32_base]
extends = arduino_base
platform = platformio/ststm32@19.1.0
platform_packages = platformio/framework-arduinoststm32@https://github.com/stm32duino/Arduino_Core_STM32/archive/2.10.1.zip
extra_scripts = post:arch/stm32/build_hex.py
build_flags = ${arduino_base.build_flags}
	-D STM32_PLATFORM
	-I src/helpers/stm32
build_src_filter = ${arduino_base.build_src_filter}
	+<helpers/stm32>
lib_deps = ${arduino_base.lib_deps}
	file://arch/stm32/Adafruit_LittleFS_stm32

[Generic_E22]
extends = esp32_base
board = esp32doit-devkit-v1
build_flags = 
	${esp32_base.build_flags}
	-I variants/generic-e22
	-D GENERIC_E22
	-D P_LORA_TX_LED=2
	-D PIN_VBAT_READ=35
	-D P_LORA_DIO_1=33
	-D P_LORA_NSS=18
	-D P_LORA_RESET=RADIOLIB_NC
	-D P_LORA_BUSY=32
	-D P_LORA_SCLK=5
	-D P_LORA_MOSI=27
	-D P_LORA_MISO=19
	-D SX126X_TXEN=13
	-D SX126X_RXEN=14
	-D PIN_BOARD_SDA=21
	-D PIN_BOARD_SCL=22
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/generic-e22>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13

[env:Generic_E22_sx1262_repeater]
extends = Generic_E22
build_src_filter = ${Generic_E22.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Generic_E22.build_flags}
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"E22 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Generic_E22.lib_deps}
	${esp32_ota.lib_deps}

[env:Generic_E22_sx1268_repeater]
extends = Generic_E22
build_src_filter = ${Generic_E22.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Generic_E22.build_flags}
	-D RADIO_CLASS=CustomSX1268
	-D WRAPPER_CLASS=CustomSX1268Wrapper
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"E22 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Generic_E22.lib_deps}
	${esp32_ota.lib_deps}

[Generic_ESPNOW]
extends = esp32_base
board = esp32-c3-devkitm-1
build_flags = 
	${esp32_base.build_flags}
	-I variants/generic_espnow
	-D PIN_BOARD_SDA=-1
	-D PIN_BOARD_SCL=-1
	-D PIN_USER_BTN=0
build_src_filter = ${esp32_base.build_src_filter}
	+<helpers/esp32/ESPNOWRadio.cpp>
	+<../variants/generic_espnow>

[env:Generic_ESPNOW_repeatr]
extends = Generic_ESPNOW
build_flags = 
	${Generic_ESPNOW.build_flags}
	-D ADVERT_NAME='"ESPNOW Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Generic_ESPNOW.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = 
	${Generic_ESPNOW.lib_deps}
	${esp32_ota.lib_deps}
	densaugeo/base64 @ ~1.4.0

[Heltec_ct62]
extends = esp32_base
board = esp32-c3-devkitm-1
build_flags = 
	${esp32_base.build_flags}
	-I variants/heltec_ct62
	-D HELTEC_HT_CT62=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D ESP32_CPU_FREQ=80
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=18
	-D PIN_BOARD_SDA=0
	-D PIN_BOARD_SCL=1
	-D PIN_VBAT_READ=2
	-D P_LORA_DIO_1=3
	-D P_LORA_NSS=8
	-D P_LORA_RESET=5
	-D P_LORA_DIO_0=RADIOLIB_NC
	-D P_LORA_DIO_2=RADIOLIB_NC
	-D P_LORA_BUSY=4
	-D P_LORA_SCLK=10
	-D P_LORA_MISO=6
	-D P_LORA_MOSI=7
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/heltec_ct62>

[env:Heltec_ct62_repeater]
extends = Heltec_ct62
build_flags = 
	${Heltec_ct62.build_flags}
	-D ADVERT_NAME='"HT-CT62 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Heltec_ct62.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = 
	${Heltec_ct62.lib_deps}
	${esp32_ota.lib_deps}

[Heltec_tracker_base]
extends = esp32_base
board = esp32-s3-devkitc-1
build_flags = 
	${esp32_base.build_flags}
	-I variants/heltec_tracker
	-D HELTEC_LORA_V3
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=18
	-D PIN_BOARD_SDA=45
	-D PIN_BOARD_SCL=46
	-D PIN_USER_BTN=0
	-D PIN_ADC_CTRL=2
	-D PIN_TFT_SDA=42
	-D PIN_TFT_SCL=41
	-D PIN_TFT_DC=40
	-D PIN_TFT_RST=39
	-D PIN_TFT_CS=38
	-D USE_PIN_TFT=1
	-D PIN_VEXT_EN=3
	-D PIN_TFT_LEDA_CTL=21
	-D PIN_GPS_RX=33
	-D PIN_GPS_TX=34
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/heltec_tracker>
lib_deps = 
	${esp32_base.lib_deps}
	stevemarple/MicroNMEA @ ^2.0.6
	adafruit/Adafruit ST7735 and ST7789 Library @ ^1.11.0

[env:Heltec_Wireless_Tracker_repeater]
extends = Heltec_tracker_base
build_flags = 
	${Heltec_tracker_base.build_flags}
	-D DISPLAY_ROTATION=1
	-D DISPLAY_CLASS=ST7735Display
	-D ADVERT_NAME='"Heltec Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Heltec_tracker_base.build_src_filter}
	+<helpers/ui/ST7735Display.cpp>
	+<../examples/simple_repeater>
lib_deps = 
	${Heltec_tracker_base.lib_deps}
	${esp32_ota.lib_deps}

[Heltec_lora32_v2]
extends = esp32_base
board = heltec_wifi_lora_32_V2
build_flags = 
	${esp32_base.build_flags}
	-I variants/heltec_v2
	-D HELTEC_LORA_V2
	-D RADIO_CLASS=CustomSX1276
	-D WRAPPER_CLASS=CustomSX1276Wrapper
	-D SX127X_CURRENT_LIMIT=120
	-D LORA_TX_POWER=20
	-D PIN_BOARD_SDA=4
	-D PIN_BOARD_SCL=15
	-D PIN_USER_BTN=0
	-D PIN_OLED_RESET=16
	-D P_LORA_TX_LED=25
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/heltec_v2>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13

[env:Heltec_v2_repeater]
extends = Heltec_lora32_v2
build_flags = 
	${Heltec_lora32_v2.build_flags}
	-D DISPLAY_CLASS=SSD1306Display
	-D ADVERT_NAME='"Heltec Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Heltec_lora32_v2.build_src_filter}
	+<../examples/simple_repeater>
	+<helpers/ui/SSD1306Display.cpp>
lib_deps = 
	${Heltec_lora32_v2.lib_deps}
	${esp32_ota.lib_deps}

[Heltec_lora32_v3]
extends = esp32_base
board = esp32-s3-devkitc-1
build_flags = 
	${esp32_base.build_flags}
	-I variants/heltec_v3
	-D HELTEC_LORA_V3
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=35
	-D PIN_BOARD_SDA=17
	-D PIN_BOARD_SCL=18
	-D PIN_USER_BTN=0
	-D PIN_VEXT_EN=36
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_BMP280=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
	-D ENV_INCLUDE_GPS=1
	-D PIN_GPS_RX=47
	-D PIN_GPS_TX=48
	-D PIN_GPS_EN=26
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/heltec_v3>
	+<helpers/sensors>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0
	adafruit/Adafruit BMP280 Library@^2.6.8
	stevemarple/MicroNMEA @ ^2.0.6

[env:Heltec_v3_repeater]
extends = Heltec_lora32_v3
build_flags = 
	${Heltec_lora32_v3.build_flags}
	-D DISPLAY_CLASS=SSD1306Display
	-D ADVERT_NAME='"Heltec Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Heltec_lora32_v3.build_src_filter}
	+<helpers/ui/SSD1306Display.cpp>
	+<../examples/simple_repeater>
lib_deps = 
	${Heltec_lora32_v3.lib_deps}
	${esp32_ota.lib_deps}

[env:Heltec_WSL3_repeater]
extends = Heltec_lora32_v3
build_flags = 
	${Heltec_lora32_v3.build_flags}
	-D ADVERT_NAME='"Heltec Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Heltec_lora32_v3.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = 
	${Heltec_lora32_v3.lib_deps}
	${esp32_ota.lib_deps}

[Heltec_Wireless_Paper_base]
extends = esp32_base
board = esp32-s3-devkitc-1
build_flags = 
	${esp32_base.build_flags}
	-I variants/heltec_wireless_paper
	-D HELTEC_WIRELESS_PAPER
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=18
	-D PIN_USER_BTN=0
	-D PIN_VEXT_EN=45
	-D PIN_VBAT_READ=20
	-D PIN_ADC_CTRL=19
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D DISP_CS=4
	-D DISP_BUSY=7
	-D DISP_DC=5
	-D DISP_RST=6
	-D DISP_SCLK=3
	-D DISP_MOSI=2
	-D ARDUINO_heltec_wifi_lora_32_V3
	-D WIRELESS_PAPER
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/heltec_wireless_paper>
lib_deps = 
	${esp32_base.lib_deps}
	todd-herbert/heltec-eink-modules @ 4.5.0

[env:Heltec_Wireless_Paper_repeater]
extends = Heltec_Wireless_Paper_base
build_flags = 
	${Heltec_Wireless_Paper_base.build_flags}
	-D DISPLAY_CLASS=E213Display
	-D ADVERT_NAME='"Heltec WP Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
build_src_filter = ${Heltec_Wireless_Paper_base.build_src_filter}
	+<helpers/ui/E213Display.cpp>
	+<../examples/simple_repeater>
lib_deps = 
	${Heltec_Wireless_Paper_base.lib_deps}
	${esp32_ota.lib_deps}

[LilyGo_T3S3_sx1262]
extends = esp32_base
board = t3_s3_v1_x
build_flags = 
	${esp32_base.build_flags}
	-I variants/lilygo_t3s3
	-D LILYGO_T3S3
	-D P_LORA_DIO_1=33
	-D P_LORA_NSS=7
	-D P_LORA_RESET=8
	-D P_LORA_BUSY=34
	-D P_LORA_SCLK=5
	-D P_LORA_MISO=3
	-D P_LORA_MOSI=6
	-D P_LORA_TX_LED=37
	-D PIN_VBAT_READ=1
	-D PIN_USER_BTN=0
	-D PIN_BOARD_SDA=18
	-D PIN_BOARD_SCL=17
	-D P_LORA_TX_LED=37
	-D PIN_OLED_RESET=21
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/lilygo_t3s3>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13

[env:LilyGo_T3S3_sx1262_Repeater]
extends = LilyGo_T3S3_sx1262
build_flags = 
	${LilyGo_T3S3_sx1262.build_flags}
	-D DISPLAY_CLASS=SSD1306Display
	-D ADVERT_NAME='"T3S3-1262 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${LilyGo_T3S3_sx1262.build_src_filter}
	+<helpers/ui/SSD1306Display.cpp>
	+<../examples/simple_repeater>
lib_deps = 
	${LilyGo_T3S3_sx1262.lib_deps}
	${esp32_ota.lib_deps}

[LilyGo_T3S3_sx1276]
extends = esp32_base
board = t3_s3_v1_x
build_flags = 
	${esp32_base.build_flags}
	-I variants/lilygo_t3s3_sx1276
	-D LILYGO_T3S3
	-D P_LORA_DIO_0=9
	-D P_LORA_DIO_1=33
	-D P_LORA_NSS=7
	-D P_LORA_RESET=8
	-D P_LORA_SCLK=5
	-D P_LORA_MISO=3
	-D P_LORA_MOSI=6
	-D P_LORA_TX_LED=37
	-D PIN_VBAT_READ=1
	-D PIN_USER_BTN=0
	-D PIN_BOARD_SDA=18
	-D PIN_BOARD_SCL=17
	-D PIN_OLED_RESET=21
	-D RADIO_CLASS=CustomSX1276
	-D WRAPPER_CLASS=CustomSX1276Wrapper
	-D SX127X_CURRENT_LIMIT=120
	-D SX176X_RXEN=21
	-D SX176X_TXEN=10
	-D LORA_TX_POWER=20
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/lilygo_t3s3_sx1276>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13

[env:LilyGo_T3S3_sx1276_Repeater]
extends = LilyGo_T3S3_sx1276
build_flags = 
	${LilyGo_T3S3_sx1276.build_flags}
	-D DISPLAY_CLASS=SSD1306Display
	-D ADVERT_NAME='"T3S3-1276 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${LilyGo_T3S3_sx1276.build_src_filter}
	+<helpers/ui/SSD1306Display.cpp>
	+<../examples/simple_repeater>
lib_deps = 
	${LilyGo_T3S3_sx1276.lib_deps}
	${esp32_ota.lib_deps}

[LilyGo_TBeam_SX1262]
extends = esp32_base
board = ttgo-t-beam
build_flags = 
	${esp32_base.build_flags}
	-I variants/lilygo_tbeam_SX1262
	-D TBEAM_SX1262
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D DISPLAY_CLASS=SSD1306Display
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=4
	-D PIN_BOARD_SDA=21
	-D PIN_BOARD_SCL=22
	-D PIN_GPS_RX=12
	-D PIN_GPS_TX=34
	-D PIN_USER_BTN=38
	-D ENV_INCLUDE_GPS=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/lilygo_tbeam_SX1262>
	+<helpers/ui/SSD1306Display.cpp>
	+<helpers/esp32/TBeamBoard.cpp>
	+<helpers/sensors>
board_build.partitions = min_spiffs.csv
lib_deps = 
	${esp32_base.lib_deps}
	lewisxhe/XPowersLib@^0.2.7
	adafruit/Adafruit SSD1306 @ ^2.5.13
	stevemarple/MicroNMEA @ ^2.0.6

[env:Tbeam_SX1262_repeater]
extends = LilyGo_TBeam_SX1262
build_flags = 
	${LilyGo_TBeam_SX1262.build_flags}
	-D ADVERT_NAME='"Tbeam SX1262 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${LilyGo_TBeam_SX1262.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = 
	${LilyGo_TBeam_SX1262.lib_deps}
	${esp32_ota.lib_deps}

[LilyGo_TBeam_SX1276]
extends = esp32_base
board = ttgo-t-beam
build_flags = 
	${esp32_base.build_flags}
	-I variants/lilygo_tbeam_SX1276
	-D TBEAM_SX1276
	-D SX127X_CURRENT_LIMIT=120
	-D RADIO_CLASS=CustomSX1276
	-D WRAPPER_CLASS=CustomSX1276Wrapper
	-D DISPLAY_CLASS=SSD1306Display
	-D LORA_TX_POWER=20
	-D P_LORA_TX_LED=4
	-D PIN_BOARD_SDA=21
	-D PIN_BOARD_SCL=22
	-D PIN_GPS_RX=12
	-D PIN_GPS_TX=34
	-D PIN_USER_BTN=38
	-D ENV_INCLUDE_GPS=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/lilygo_tbeam_SX1276>
	+<helpers/ui/SSD1306Display.cpp>
	+<helpers/esp32/TBeamBoard.cpp>
	+<helpers/sensors>
board_build.partitions = min_spiffs.csv
lib_deps = 
	${esp32_base.lib_deps}
	lewisxhe/XPowersLib@^0.2.7
	adafruit/Adafruit SSD1306 @ ^2.5.13
	stevemarple/MicroNMEA @ ^2.0.6
	boschsensortec/BSEC Software Library @ ^1.8.1492

[env:Tbeam_SX1276_repeater]
extends = LilyGo_TBeam_SX1276
build_flags = 
	${LilyGo_TBeam_SX1276.build_flags}
	-D ADVERT_NAME='"Tbeam Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
	-D PERSISTANT_GPS=1
build_src_filter = ${LilyGo_TBeam_SX1276.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = 
	${LilyGo_TBeam_SX1276.lib_deps}
	${esp32_ota.lib_deps}

[T_Beam_S3_Supreme_SX1262]
extends = esp32_base
board = t_beams3_supreme
build_flags = 
	${esp32_base.build_flags}
	-I variants/lilygo_tbeam_supreme_SX1262
	-D TBEAM_SUPREME_SX1262
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D DISPLAY_CLASS=SH1106Display
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=6
	-D PIN_BOARD_SDA=17
	-D PIN_BOARD_SCL=18
	-D PIN_GPS_RX=8
	-D PIN_GPS_TX=9
	-D PIN_GPS_EN=7
	-D PIN_USER_BTN=0
	-D TELEM_BME280_ADDRESS=0x77
	-D ENV_INCLUDE_GPS=1
	-D ENV_INCLUDE_BME280=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/lilygo_tbeam_supreme_SX1262>
	+<helpers/ui/SH1106Display.cpp>
	+<helpers/esp32/TBeamBoard.cpp>
	+<helpers/sensors>
board_build.partitions = min_spiffs.csv
lib_deps = 
	${esp32_base.lib_deps}
	lewisxhe/XPowersLib @ ^0.2.7
	adafruit/Adafruit SH110X @ ^2.1.13
	stevemarple/MicroNMEA @ ^2.0.6
	adafruit/Adafruit BME280 Library @ ^2.3.0

[env:T_Beam_S3_Supreme_SX1262_repeater]
extends = T_Beam_S3_Supreme_SX1262
build_flags = 
	${T_Beam_S3_Supreme_SX1262.build_flags}
	-D ADVERT_NAME='"T-Beam S3 Supreme SX1262 Repeater"'
	-D ADVERT_LAT=0
	-D ADVERT_LON=0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${T_Beam_S3_Supreme_SX1262.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = 
	${T_Beam_S3_Supreme_SX1262.lib_deps}
	${esp32_ota.lib_deps}

[tlora_c6]
extends = esp32c6_base
board = esp32-c6-devkitm-1
board_build.partitions = min_spiffs.csv
build_flags = 
	${esp32c6_base.build_flags}
	-I variants/lilygo_tlora_c6
	-D ARDUINO_USB_CDC_ON_BOOT=1
	-D ARDUINO_USB_MODE=1
	-D P_LORA_TX_LED=7
	-D P_LORA_SCLK=6
	-D P_LORA_MISO=1
	-D P_LORA_MOSI=0
	-D P_LORA_NSS=18
	-D P_LORA_DIO_1=23
	-D P_LORA_BUSY=22
	-D P_LORA_RESET=21
	-D PIN_BOARD_SDA=8
	-D PIN_BOARD_SCL=9
	-D SX126X_RXEN=15
	-D SX126X_TXEN=14
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D DISABLE_WIFI_OTA=1
build_src_filter = ${esp32c6_base.build_src_filter}
	+<../variants/lilygo_tlora_c6>

[env:LilyGo_Tlora_C6_repeater]
extends = tlora_c6
build_src_filter = ${tlora_c6.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${tlora_c6.build_flags}
	-D ADVERT_NAME='"Tlora C6 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${tlora_c6.lib_deps}

[LilyGo_TLora_V2_1_1_6]
extends = esp32_base
board = ttgo-lora32-v1
build_unflags = -Os
build_type = release
board_build.partitions = min_spiffs.csv
build_flags = 
	${esp32_base.build_flags}
	-I variants/lilygo_tlora_v2_1
	-Os -ffunction-sections -fdata-sections
	-D LILYGO_TLORA
	-D P_LORA_DIO_0=26
	-D P_LORA_DIO_1=33
	-D P_LORA_NSS=18
	-D P_LORA_RESET=14
	-D P_LORA_SCLK=5
	-D P_LORA_MISO=19
	-D P_LORA_MOSI=27
	-D P_LORA_TX_LED=2
	-D PIN_BOARD_SDA=21
	-D PIN_BOARD_SCL=22
	-D PIN_VBAT_READ=35
	-D PIN_USER_BTN=0
	-D ARDUINO_LOOP_STACK_SIZE=16384
	-D DISPLAY_CLASS=SSD1306Display
	-D RADIO_CLASS=CustomSX1276
	-D WRAPPER_CLASS=CustomSX1276Wrapper
	-D SX127X_CURRENT_LIMIT=120
	-D LORA_TX_POWER=20
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_BMP280=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/lilygo_tlora_v2_1>
	+<helpers/sensors>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0
	adafruit/Adafruit BMP280 Library @ ^2.6.8

[env:LilyGo_TLora_V2_1_1_6_Repeater]
extends = LilyGo_TLora_V2_1_1_6
build_src_filter = ${LilyGo_TLora_V2_1_1_6.build_src_filter}
	+<helpers/ui/SSD1306Display.cpp>
	+<../examples/simple_repeater>
build_flags = 
	${LilyGo_TLora_V2_1_1_6.build_flags}
	-D ADVERT_NAME='"TLora-V2.1-1.6 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${LilyGo_TLora_V2_1_1_6.lib_deps}
	${esp32_ota.lib_deps}

[Meshadventurer]
extends = esp32_base
board = esp32doit-devkit-v1
board_build.partitions = min_spiffs.csv
build_flags = 
	${esp32_base.build_flags}
	-I variants/meshadventurer
	-D MESHADVENTURER
	-D P_LORA_TX_LED=2
	-D PIN_VBAT_READ=35
	-D PIN_USER_BTN_ANA=39
	-D P_LORA_DIO_1=33
	-D P_LORA_NSS=18
	-D P_LORA_RESET=23
	-D P_LORA_BUSY=32
	-D P_LORA_SCLK=5
	-D P_LORA_MOSI=27
	-D P_LORA_MISO=19
	-D SX126X_TXEN=13
	-D SX126X_RXEN=14
	-D PIN_BOARD_SDA=21
	-D PIN_BOARD_SCL=22
	-D SX126X_DIO2_AS_RF_SWITCH=false
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_RX_BOOSTED_GAIN=1
	-D PIN_GPS_RX=12
	-D PIN_GPS_TX=15
	-D DISPLAY_CLASS=SSD1306Display
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/meshadventurer>
lib_deps = 
	${esp32_base.lib_deps}
	stevemarple/MicroNMEA @ ^2.0.6
	adafruit/Adafruit SSD1306 @ ^2.5.13

[env:Meshadventurer_sx1262_repeater]
extends = Meshadventurer
build_src_filter = ${Meshadventurer.build_src_filter}
	+<../examples/simple_repeater>
	+<helpers/ui/SSD1306Display.cpp>
build_flags = 
	${Meshadventurer.build_flags}
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Meshadventurer Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Meshadventurer.lib_deps}
	${esp32_ota.lib_deps}

[env:Meshadventurer_sx1268_repeater]
extends = Meshadventurer
build_src_filter = ${Meshadventurer.build_src_filter}
	+<../examples/simple_repeater>
	+<helpers/ui/SSD1306Display.cpp>
build_flags = 
	${Meshadventurer.build_flags}
	-D RADIO_CLASS=CustomSX1268
	-D WRAPPER_CLASS=CustomSX1268Wrapper
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Meshadventurer Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Meshadventurer.lib_deps}
	${esp32_ota.lib_deps}

[nrf52840_me25ls01]
extends = nrf52_base
platform_packages = framework-arduinoadafruitnrf52
build_flags = ${nrf52_base.build_flags}
	-I src/helpers/nrf52
	-I lib/nrf52/s140_nrf52_7.3.0_API/include
	-I lib/nrf52/s140_nrf52_7.3.0_API/include/nrf52
lib_ignore = 
	BluetoothOTA
	lib5b4
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0

[me25ls01]
extends = nrf52840_me25ls01
board = minewsemi_me25ls01
board_build.ldscript = boards/nrf52840_s140_v7.ld
build_flags = ${nrf52840_me25ls01.build_flags}
	-I variants/minewsemi_me25ls01
	-D me25ls01
	-D PIN_USER_BTN=27
	-D USER_BTN_PRESSED=HIGH
	-D PIN_STATUS_LED=39
	-D P_LORA_TX_LED=22
	-D RADIO_CLASS=CustomLR1110
	-D WRAPPER_CLASS=CustomLR1110Wrapper
	-D LORA_TX_POWER=22
	-D ENV_INCLUDE_GPS=0
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
build_src_filter = ${nrf52840_me25ls01.build_src_filter}
	+<helpers/*.cpp>
	+<../variants/minewsemi_me25ls01>
	+<helpers/sensors>
debug_tool = jlink
upload_protocol = nrfutil
lib_deps = ${nrf52840_me25ls01.lib_deps}
	densaugeo/base64 @ ~1.4.0
	stevemarple/MicroNMEA @ ^2.0.6
	end2endzone/NonBlockingRTTTL@^1.3.0
	adafruit/Adafruit SSD1306 @ ^2.5.13
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0

[env:Minewsemi_me25ls01_repeater]
extends = me25ls01
build_flags = ${me25ls01.build_flags}
	-D MAX_CONTACTS=100
	-D MAX_GROUP_CHANNELS=8
	-D BLE_PIN_CODE=123456
	-D MESH_PACKET_LOGGING=1
	-D MESH_DEBUG=1
	-D OFFLINE_QUEUE_SIZE=256
	-D RX_BOOSTED_GAIN=true
	-D RF_SWITCH_TABLE
	-D ADVERT_NAME='"ME25LS01 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
	-D DISPLAY_CLASS=NullDisplayDriver
build_src_filter = ${me25ls01.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = ${me25ls01.lib_deps}
	adafruit/RTClib @ ^2.1.3

[nrf52840_g2_ultra]
extends = nrf52_base
platform_packages = framework-arduinoadafruitnrf52
build_flags = ${nrf52_base.build_flags}
	-I src/helpers/nrf52
	-I lib/nrf52/s140_nrf52_6.1.1_API/include
	-I lib/nrf52/s140_nrf52_6.1.1_API/include/nrf52
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0
	lewisxhe/PCF8563_Library@^1.0.1

[Nano_G2_Ultra]
extends = nrf52840_g2_ultra
board = nano-g2-ultra
board_build.ldscript = boards/nrf52840_s140_v6.ld
build_flags = ${nrf52840_g2_ultra.build_flags}
	-I variants/nano_g2_ultra
	-D NANO_G2_ULTRA
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D PIN_USER_BTN=38
build_src_filter = ${nrf52840_g2_ultra.build_src_filter}
	+<helpers/*.cpp>
	+<../variants/nano_g2_ultra>
debug_tool = jlink
upload_protocol = nrfutil

[picow]
extends = rp2040_base
platform = https://github.com/maxgerhardt/platform-raspberrypi.git
board = rpipicow
board_build.core = earlephilhower
board_build.filesystem_size = 0.5m
build_flags = ${rp2040_base.build_flags}
	-I variants/picow
	-D SX126X_CURRENT_LIMIT=130
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${rp2040_base.build_src_filter}
	+<helpers/rp2040/PicoWBoard.cpp>
	+<../variants/picow>
lib_deps = ${rp2040_base.lib_deps}

[env:PicoW_Repeater]
extends = picow
build_flags = ${picow.build_flags}
	-D ADVERT_NAME='"PicoW Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${picow.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = rweather/Crypto@^0.4.0

[Faketec]
extends = nrf52_base
board = promicro_nrf52840
build_flags = ${nrf52_base.build_flags}
	-I variants/promicro
	-D FAKETEC
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D PIN_BOARD_SCL=7
	-D PIN_BOARD_SDA=8
	-D PIN_OLED_RESET=-1
	-D PIN_USER_BTN=6
	-D PIN_GPS_RX=3
	-D PIN_GPS_TX=4
	-D PIN_GPS_EN=5
	-D ENV_INCLUDE_GPS=1
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_BMP280=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
build_src_filter = ${nrf52_base.build_src_filter}
	+<../variants/promicro>
lib_deps = ${nrf52_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0
	adafruit/Adafruit BMP280 Library@^2.6.8
	stevemarple/MicroNMEA @ ^2.0.6

[env:Faketec_Repeater]
extends = Faketec
build_src_filter = ${Faketec.build_src_filter}
	+<../examples/simple_repeater>
	+<helpers/ui/SSD1306Display.cpp>
build_flags = 
	${Faketec.build_flags}
	-D ADVERT_NAME='"Faketec Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
	-D DISPLAY_CLASS=SSD1306Display
lib_deps = ${Faketec.lib_deps}
	adafruit/RTClib @ ^2.1.3

[ProMicroLLCC68]
extends = nrf52_base
board = promicro_nrf52840
build_flags = ${nrf52_base.build_flags}
	-I variants/promicro
	-D PROMICROLLCC68
	-D RADIO_CLASS=CustomLLCC68
	-D WRAPPER_CLASS=CustomLLCC68Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = 
	${nrf52_base.build_src_filter}
	+<../variants/promicro>
lib_deps = ${nrf52_base.lib_deps}
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0

[env:ProMicroLLCC68_Repeater]
extends = ProMicroLLCC68
build_src_filter = ${ProMicroLLCC68.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = ${ProMicroLLCC68.build_flags}
	-D ADVERT_NAME='"ProMicroLLCC68 Repeater"'
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = ${ProMicroLLCC68.lib_deps}
	adafruit/RTClib @ ^2.1.3

[rak3x72]
extends = stm32_base
board = rak3172
board_upload.maximum_size = 229376
build_flags = ${stm32_base.build_flags}
	-D RADIO_CLASS=CustomSTM32WLx
	-D WRAPPER_CLASS=CustomSTM32WLxWrapper
	-D SPI_INTERFACES_COUNT=0
	-D RX_BOOSTED_GAIN=true
	-I variants/rak3x72
build_src_filter = ${stm32_base.build_src_filter}
	+<../variants/rak3x72>

[env:rak3x72-repeater]
extends = rak3x72
build_flags = ${rak3x72.build_flags}
	-D ADVERT_NAME='"RAK3x72 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
build_src_filter = ${rak3x72.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = rweather/Crypto@^0.4.0

[rak4631]
extends = nrf52_base
platform = https://github.com/maxgerhardt/platform-nordicnrf52.git#rak
board = wiscore_rak4631
board_check = true
build_flags = ${nrf52_base.build_flags}
	-I variants/rak4631
	-D RAK_4631
	-D RAK_BOARD
	-D PIN_BOARD_SCL=14
	-D PIN_BOARD_SDA=13
	-D PIN_GPS_TX=16
	-D PIN_GPS_RX=15
	-D PIN_GPS_EN=-1
	-D PIN_OLED_RESET=-1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D ENV_INCLUDE_GPS=1
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_BMP280=1
	-D ENV_INCLUDE_SHTC3=1
	-D ENV_INCLUDE_LPS22HB=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
build_src_filter = ${nrf52_base.build_src_filter}
	+<../variants/rak4631>
	+<helpers/sensors>
lib_deps = 
	${nrf52_base.lib_deps}
	adafruit/Adafruit SSD1306 @ ^2.5.13
	stevemarple/MicroNMEA @ ^2.0.6
	arduino-libraries/Arduino_LPS22HB@^1.0.2
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0
	adafruit/Adafruit BMP280 Library @ ^2.6.8
	adafruit/Adafruit SHTC3 Library @ ^1.0.1
	sparkfun/SparkFun u-blox GNSS Arduino Library@^2.2.27

[env:RAK_4631_Repeater]
extends = rak4631
build_flags = 
	${rak4631.build_flags}
	-D DISPLAY_CLASS=SSD1306Display
	-D ADVERT_NAME='"RAK4631 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${rak4631.build_src_filter}
	+<helpers/ui/SSD1306Display.cpp>
	+<../examples/simple_repeater>
lib_deps = rweather/Crypto@^0.4.0

[SenseCap_Solar]
extends = nrf52_base
board = seeed_sensecap_solar
board_build.ldscript = boards/nrf52840_s140_v7.ld
build_flags = ${nrf52_base.build_flags}
	-I lib/nrf52/s140_nrf52_7.3.0_API/include
	-I lib/nrf52/s140_nrf52_7.3.0_API/include/nrf52
	-I variants/sensecap_solar
	-I src/helpers/nrf52
	-D NRF52_PLATFORM=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D P_LORA_TX_LED=12
	-D P_LORA_DIO_1=1
	-D P_LORA_RESET=2
	-D P_LORA_BUSY=3
	-D P_LORA_NSS=4
	-D LORA_TX_POWER=22
	-D SX126X_RXEN=5
	-D SX126X_TXEN=RADIOLIB_NC
	-D SX126X_DIO2_AS_RF_SWITCH=1
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_BMP280=1
	-D ENV_INCLUDE_SHTC3=1
	-D ENV_INCLUDE_LPS22HB=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
build_src_filter = ${nrf52_base.build_src_filter}
	+<helpers/*.cpp>
	+<helpers/sensors>
	+<../variants/sensecap_solar>
debug_tool = jlink
upload_protocol = nrfutil
lib_deps = 
	${nrf52_base.lib_deps}
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0
	adafruit/Adafruit BMP280 Library @ ^2.6.8
	adafruit/Adafruit SHTC3 Library @ ^1.0.1
	arduino-libraries/Arduino_LPS22HB @ ^1.0.2

[env:SenseCap_Solar_repeater]
extends = SenseCap_Solar
build_flags = 
	${SenseCap_Solar.build_flags}
	-D ADVERT_NAME='"SenseCap_Solar Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${SenseCap_Solar.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = rweather/Crypto@^0.4.0

[Station_G2]
extends = esp32_base
board = station-g2
build_flags = 
	${esp32_base.build_flags}
	-I variants/station_g2
	-D STATION_G2
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=19
	-D PIN_BOARD_SDA=5
	-D PIN_BOARD_SCL=6
	-D PIN_USER_BTN=38
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-I src/helpers/ui
	-D DISPLAY_CLASS=SH1106Display
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/station_g2>
	+<helpers/ui/SH1106Display.cpp>
lib_deps = 
	${esp32_base.lib_deps}
	adafruit/Adafruit SH110X @ ~2.1.13
	adafruit/Adafruit GFX Library @ ^1.12.1

[env:Station_G2_repeater]
extends = Station_G2
build_flags = 
	${Station_G2.build_flags}
	-D ADVERT_NAME='"Station G2 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Station_G2.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = 
	${Station_G2.lib_deps}
	${esp32_ota.lib_deps}

[nrf52840_t1000e]
extends = nrf52_base
platform_packages = framework-arduinoadafruitnrf52
build_flags = ${nrf52_base.build_flags}
	-I src/helpers/nrf52
	-I lib/nrf52/s140_nrf52_7.3.0_API/include
	-I lib/nrf52/s140_nrf52_7.3.0_API/include/nrf52
lib_ignore = 
	BluetoothOTA
	lvgl
	lib5b4
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0

[t1000-e]
extends = nrf52840_t1000e
board = tracker-t1000-e
board_build.ldscript = boards/nrf52840_s140_v7.ld
build_flags = ${nrf52840_t1000e.build_flags}
	-I variants/t1000-e
	-D T1000_E
	-D PIN_USER_BTN=6
	-D USER_BTN_PRESSED=HIGH
	-D PIN_STATUS_LED=24
	-D RADIO_CLASS=CustomLR1110
	-D WRAPPER_CLASS=CustomLR1110Wrapper
	-D LORA_TX_POWER=22
build_src_filter = ${nrf52840_t1000e.build_src_filter}
	+<helpers/*.cpp>
	+<helpers/nrf52/T1000eBoard.cpp>
	+<../variants/t1000-e>
debug_tool = jlink
upload_protocol = nrfutil

[nrf52840_t114]
extends = nrf52_base
platform_packages = framework-arduinoadafruitnrf52
build_flags = ${nrf52_base.build_flags}
	-I src/helpers/nrf52
	-I lib/nrf52/s140_nrf52_6.1.1_API/include
	-I lib/nrf52/s140_nrf52_6.1.1_API/include/nrf52
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0

[Heltec_t114]
extends = nrf52840_t114
board = heltec_t114
board_build.ldscript = boards/nrf52840_s140_v6.ld
build_flags = ${nrf52840_t114.build_flags}
	-I variants/t114
	-I src/helpers/ui
	-DHELTEC_T114
	-D P_LORA_TX_LED=35
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D ST7789
	-D DISPLAY_CLASS=ST7789Display
build_src_filter = ${nrf52840_t114.build_src_filter}
	+<helpers/*.cpp>
	+<helpers/nrf52/T114Board.cpp>
	+<../variants/t114>
	+<helpers/ui/ST7789Display.cpp>
	+<helpers/ui/OLEDDisplay.cpp>
	+<helpers/ui/OLEDDisplayFonts.cpp>
lib_deps = 
	${nrf52840_t114.lib_deps}
	stevemarple/MicroNMEA @ ^2.0.6
	adafruit/Adafruit GFX Library @ ^1.12.1
debug_tool = jlink
upload_protocol = nrfutil

[env:Heltec_t114_repeater]
extends = Heltec_t114
build_src_filter = ${Heltec_t114.build_src_filter}
	+<../examples/simple_repeater>
build_flags = 
	${Heltec_t114.build_flags}
	-D ADVERT_NAME='"Heltec_T114 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = rweather/Crypto@^0.4.0

[nrf52840_techo]
extends = nrf52_base
platform_packages = framework-arduinoadafruitnrf52
build_flags = ${nrf52_base.build_flags}
	-I src/helpers/nrf52
	-I lib/nrf52/s140_nrf52_6.1.1_API/include
	-I lib/nrf52/s140_nrf52_6.1.1_API/include/nrf52
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0

[LilyGo_Techo]
extends = nrf52840_techo
board = t-echo
board_build.ldscript = boards/nrf52840_s140_v6.ld
build_flags = ${nrf52840_techo.build_flags}
	-I variants/techo
	-DLILYGO_TECHO
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${nrf52840_techo.build_src_filter}
	+<helpers/*.cpp>
	+<helpers/nrf52/TechoBoard.cpp>
	+<../variants/techo>
lib_deps = 
	${nrf52840_techo.lib_deps}
	stevemarple/MicroNMEA @ ^2.0.6
debug_tool = jlink
upload_protocol = nrfutil

[env:LilyGo_T-Echo_repeater]
extends = LilyGo_Techo
build_src_filter = ${LilyGo_Techo.build_src_filter} +<../examples/simple_repeater/main.cpp>
build_flags = 
	${LilyGo_Techo.build_flags}
	-D ADVERT_NAME='"T-Echo Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = rweather/Crypto@^0.4.0

[Tenstar_esp32_C3]
extends = esp32_base
board = esp32-c3-devkitm-1
build_flags = 
	${esp32_base.build_flags}
	-I variants/tenstar_c3
	-D ESP32_CPU_FREQ=80
	-D LORA_TX_BOOST_PIN=4
	-D P_LORA_TX_NEOPIXEL_LED=10
	-D PIN_VBAT_READ=1
	-D P_LORA_MISO=9
	-D P_LORA_SCLK=8
	-D P_LORA_MOSI=7
	-D P_LORA_DIO_1=2
	-D P_LORA_NSS=6
	-D P_LORA_RESET=RADIOLIB_NC
	-D P_LORA_BUSY=3
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/tenstar_c3>

[env:Tenstar_C3_Repeater_sx1262]
extends = Tenstar_esp32_C3
build_src_filter = ${Tenstar_esp32_C3.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Tenstar_esp32_C3.build_flags}
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D SX126X_RX_BOOSTED_GAIN=1
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Tenstar C3 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Tenstar_esp32_C3.lib_deps}
	${esp32_ota.lib_deps}

[env:Tenstar_C3_Repeater_sx1268]
extends = Tenstar_esp32_C3
build_src_filter = ${Tenstar_esp32_C3.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Tenstar_esp32_C3.build_flags}
	-D RADIO_CLASS=CustomSX1268
	-D WRAPPER_CLASS=CustomSX1268Wrapper
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Tenstar C3 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Tenstar_esp32_C3.lib_deps}
	${esp32_ota.lib_deps}

[nrf52840_thinknode_m1]
extends = nrf52_base
platform_packages = framework-arduinoadafruitnrf52
build_flags = ${nrf52_base.build_flags}
	-I src/helpers/nrf52
	-I lib/nrf52/s140_nrf52_6.1.1_API/include
	-I lib/nrf52/s140_nrf52_6.1.1_API/include/nrf52
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0

[ThinkNode_M1]
extends = nrf52840_thinknode_m1
board = thinknode_m1
board_build.ldscript = boards/nrf52840_s140_v6.ld
build_flags = ${nrf52840_thinknode_m1.build_flags}
	-I variants/thinknode_m1
	-D THINKNODE_M1=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D P_LORA_TX_LED=13
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${nrf52840_thinknode_m1.build_src_filter}
	+<helpers/*.cpp>
	+<helpers/nrf52/ThinkNodeM1Board.cpp>
	+<../variants/thinknode_m1>
lib_deps = 
	${nrf52840_thinknode_m1.lib_deps}
	stevemarple/MicroNMEA @ ^2.0.6
debug_tool = jlink
upload_protocol = nrfutil

[env:ThinkNode_M1_repeater]
extends = ThinkNode_M1
build_flags = 
	${ThinkNode_M1.build_flags}
	-D ADVERT_NAME='"ThinkNode Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${ThinkNode_M1.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = 
	${ThinkNode_M1.lib_deps}

[waveshare_rp2040_lora]
extends = rp2040_base
board = pico
board_build.filesystem_size = 0.5m
build_flags = ${rp2040_base.build_flags}
	-I variants/waveshare_rp2040_lora
	-D SX126X_CURRENT_LIMIT=140
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${rp2040_base.build_src_filter}
	+<helpers/rp2040/WaveshareBoard.cpp>
	+<../variants/waveshare_rp2040_lora>
lib_deps = ${rp2040_base.lib_deps}

[env:waveshare_rp2040_lora_Repeater]
extends = waveshare_rp2040_lora
build_flags = ${waveshare_rp2040_lora.build_flags}
	-D ADVERT_NAME='"RP2040-LoRa Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${waveshare_rp2040_lora.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = rweather/Crypto@^0.4.0

[lora_e5]
extends = stm32_base
board = lora_e5_dev_board
board_upload.maximum_size = 229376
build_flags = ${stm32_base.build_flags}
	-D RADIO_CLASS=CustomSTM32WLx
	-D WRAPPER_CLASS=CustomSTM32WLxWrapper
	-D SPI_INTERFACES_COUNT=0
	-D RX_BOOSTED_GAIN=true
	-D PIN_SERIAL_RX=PB7
	-D PIN_SERIAL_TX=PB6
	-I variants/wio-e5-dev
build_src_filter = ${stm32_base.build_src_filter}
	+<../variants/wio-e5-dev>

[env:wio-e5-repeater]
extends = lora_e5
build_flags = ${lora_e5.build_flags}
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"WIO-E5 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
build_src_filter = ${lora_e5.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = rweather/Crypto@^0.4.0

[lora_e5_mini]
extends = stm32_base
board = lora_e5_mini
board_upload.maximum_size = 229376
build_flags = ${stm32_base.build_flags}
	-D RADIO_CLASS=CustomSTM32WLx
	-D WRAPPER_CLASS=CustomSTM32WLxWrapper
	-D SPI_INTERFACES_COUNT=0
	-D RX_BOOSTED_GAIN=true
	-D P_LORA_TX_LED=LED_RED
	-D PIN_USER_BTN=USER_BTN
	-D USER_BTN_PRESSED=LOW
	-I variants/wio-e5-mini
build_src_filter = ${stm32_base.build_src_filter}
	+<../variants/wio-e5-mini>
lib_deps = ${stm32_base.lib_deps}
	finitespace/BME280 @ ^3.0.0

[env:wio-e5-mini-repeater]
extends = lora_e5_mini
build_flags = ${lora_e5_mini.build_flags}
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"wio-e5-mini Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
build_src_filter = ${lora_e5_mini.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = rweather/Crypto@^0.4.0

[WioTrackerL1]
extends = nrf52_base
board = seeed-wio-tracker-l1
board_build.ldscript = boards/nrf52840_s140_v7.ld
build_flags = ${nrf52_base.build_flags}
	-I lib/nrf52/s140_nrf52_7.3.0_API/include
	-I lib/nrf52/s140_nrf52_7.3.0_API/include/nrf52
	-I variants/wio-tracker-l1
	-D WIO_TRACKER_L1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D PIN_OLED_RESET=-1
build_src_filter = ${nrf52_base.build_src_filter}
	+<WioTrackerL1Board.cpp>
	+<../variants/wio-tracker-l1>
	+<helpers/ui/SH1106Display.cpp>
	+<helpers/sensors>
lib_deps = ${nrf52_base.lib_deps}
	adafruit/Adafruit SH110X @ ^2.1.13
	adafruit/Adafruit GFX Library @ ^1.12.1
	stevemarple/MicroNMEA @ ^2.0.6

[env:WioTrackerL1_Repeater]
extends = WioTrackerL1
build_src_filter = ${WioTrackerL1.build_src_filter}
	+<../examples/simple_repeater>
build_flags = 
	${WioTrackerL1.build_flags}
	-D ADVERT_NAME='"WioTrackerL1 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
	-D DISPLAY_CLASS=SH1106Display
	-D MESH_PACKET_LOGGING=1
lib_deps = ${WioTrackerL1.lib_deps}
	adafruit/RTClib @ ^2.1.3

[Xiao_esp32_C3]
extends = esp32_base
board = seeed_xiao_esp32c3
build_flags = 
	${esp32_base.build_flags}
	-I variants/xiao_c3
	-D ESP32_CPU_FREQ=80
	-D PIN_VBAT_READ=D0
	-D P_LORA_DIO_1=D1
	-D P_LORA_NSS=D4
	-D P_LORA_RESET=D2
	-D P_LORA_BUSY=D3
	-D PIN_BOARD_SDA=D6
	-D PIN_BOARD_SCL=D7
	-D SX126X_RXEN=D5
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/xiao_c3>

[Xiao_esp32_C3_custom]
extends = esp32_base
board = seeed_xiao_esp32c3
build_flags = 
	${esp32_base.build_flags}
	-I variants/xiao_c3
	-D ESP32_CPU_FREQ=80
	-D LORA_TX_BOOST_PIN=D3
	-D P_LORA_TX_LED=D5
	-D PIN_VBAT_READ=D0
	-D P_LORA_DIO_1=D2
	-D P_LORA_NSS=D4
	-D P_LORA_RESET=RADIOLIB_NC
	-D P_LORA_BUSY=D1
	-D PIN_BOARD_SDA=D6
	-D PIN_BOARD_SCL=D7
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/xiao_c3>

[env:Xiao_C3_Repeater_sx1262]
extends = Xiao_esp32_C3
build_src_filter = ${Xiao_esp32_C3.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Xiao_esp32_C3.build_flags}
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D SX126X_RX_BOOSTED_GAIN=1
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Xiao C3 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Xiao_esp32_C3.lib_deps}
	${esp32_ota.lib_deps}

[env:Xiao_C3_Repeater_sx1262_custom]
extends = Xiao_esp32_C3_custom
build_src_filter = ${Xiao_esp32_C3_custom.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Xiao_esp32_C3_custom.build_flags}
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D SX126X_RX_BOOSTED_GAIN=1
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Xiao Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Xiao_esp32_C3_custom.lib_deps}
	${esp32_ota.lib_deps}

[env:Xiao_C3_Repeater_sx1268_custom]
extends = Xiao_esp32_C3_custom
build_src_filter = ${Xiao_esp32_C3_custom.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Xiao_esp32_C3_custom.build_flags}
	-D RADIO_CLASS=CustomSX1268
	-D WRAPPER_CLASS=CustomSX1268Wrapper
	-D LORA_TX_POWER=22
	-D ADVERT_NAME='"Xiao Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Xiao_esp32_C3_custom.lib_deps}
	${esp32_ota.lib_deps}

[Xiao_C6]
extends = esp32c6_base
board = esp32-c6-devkitm-1
board_build.partitions = min_spiffs.csv
build_flags = 
	${esp32c6_base.build_flags}
	-I variants/xiao_c6
	-D ARDUINO_USB_CDC_ON_BOOT=1
	-D ARDUINO_USB_MODE=1
	-D P_LORA_TX_LED=15
	-D P_LORA_SCLK=19
	-D P_LORA_MISO=20
	-D P_LORA_MOSI=18
	-D P_LORA_NSS=22
	-D P_LORA_DIO_1=1
	-D P_LORA_BUSY=21
	-D P_LORA_RESET=2
	-D PIN_BOARD_SDA=16
	-D PIN_BOARD_SCL=17
	-D SX126X_RXEN=23
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D DISABLE_WIFI_OTA=1
build_src_filter = ${esp32c6_base.build_src_filter}
	+<../variants/xiao_c6>

[env:Xiao_C6_Repeater]
extends = Xiao_C6
build_src_filter = ${Xiao_C6.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Xiao_C6.build_flags}
	-D ADVERT_NAME='"Xiao C6 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Xiao_C6.lib_deps}

[nrf52840_xiao]
extends = nrf52_base
platform_packages = 
	toolchain-gccarmnoneeabi@~1.100301.0
	framework-arduinoadafruitnrf52
board = seeed-xiao-afruitnrf52-nrf52840
board_build.ldscript = boards/nrf52840_s140_v7.ld
build_flags = ${nrf52_base.build_flags}
	-D NRF52_PLATFORM -D XIAO_NRF52
	-I lib/nrf52/s140_nrf52_7.3.0_API/include
	-I lib/nrf52/s140_nrf52_7.3.0_API/include/nrf52
lib_ignore = 
	BluetoothOTA
	lvgl
	lib5b4
lib_deps = 
	${nrf52_base.lib_deps}
	rweather/Crypto @ ^0.4.0
	adafruit/Adafruit INA3221 Library @ ^1.0.1
	adafruit/Adafruit INA219 @ ^1.2.3
	adafruit/Adafruit AHTX0 @ ^2.0.5
	adafruit/Adafruit BME280 Library @ ^2.3.0

[Xiao_nrf52]
extends = nrf52840_xiao
build_flags = ${nrf52840_xiao.build_flags}
	-D P_LORA_TX_LED=11
	-I variants/xiao_nrf52
	-I src/helpers/nrf52
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D P_LORA_DIO_1=D1
	-D P_LORA_RESET=D2
	-D P_LORA_BUSY=D3
	-D P_LORA_NSS=D4
	-D SX126X_RXEN=D5
	-D SX126X_TXEN=RADIOLIB_NC
	-D SX126X_DIO2_AS_RF_SWITCH=1
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D SX126X_RX_BOOSTED_GAIN=1
	-D PIN_WIRE_SCL=6
	-D PIN_WIRE_SDA=7
	-D ENV_INCLUDE_AHTX0=1
	-D ENV_INCLUDE_BME280=1
	-D ENV_INCLUDE_INA3221=1
	-D ENV_INCLUDE_INA219=1
build_src_filter = ${nrf52840_xiao.build_src_filter}
	+<helpers/*.cpp>
	+<helpers/sensors>
	+<../variants/xiao_nrf52>
debug_tool = jlink
upload_protocol = nrfutil

[env:Xiao_nrf52_repeater]
extends = Xiao_nrf52
build_flags = 
	${Xiao_nrf52.build_flags}
	-D ADVERT_NAME='"Xiao_nrf52 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
build_src_filter = ${Xiao_nrf52.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
lib_deps = rweather/Crypto@^0.4.0

[env:Xiao_nrf52_alt_pinout_repeater]
extends = env:Xiao_nrf52_repeater
build_flags = 
	${env:Xiao_nrf52_repeater.build_flags}
	-D SX1262_XIAO_S3_VARIANT
lib_deps = rweather/Crypto@^0.4.0

[Xiao_rp2040]
extends = rp2040_base
board = seeed_xiao_rp2040
board_build.filesystem_size = 0.5m
build_flags = ${rp2040_base.build_flags}
	-I variants/xiao_rp2040
	-D SX126X_CURRENT_LIMIT=140
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${rp2040_base.build_src_filter}
	+<helpers/rp2040/XiaoRP2040Board.cpp>
	+<../variants/xiao_rp2040>
lib_deps = ${rp2040_base.lib_deps}

[env:Xiao_rp2040_Repeater]
extends = Xiao_rp2040
build_flags = ${Xiao_rp2040.build_flags}
	-D ADVERT_NAME='"Xiao Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
	-D MESH_PACKET_LOGGING=1
	-D MESH_DEBUG=1
build_src_filter = ${Xiao_rp2040.build_src_filter}
	+<../examples/simple_repeater>
lib_deps = rweather/Crypto@^0.4.0

[Xiao_S3_WIO]
extends = esp32_base
board = seeed_xiao_esp32s3
board_check = true
board_build.mcu = esp32s3
build_flags = ${esp32_base.build_flags}
	-I variants/xiao_s3_wio
	-D SEEED_XIAO_S3
	-D P_LORA_DIO_1=39
	-D P_LORA_NSS=41
	-D P_LORA_RESET=42
	-D P_LORA_BUSY=40
	-D P_LORA_SCLK=7
	-D P_LORA_MISO=8
	-D P_LORA_MOSI=9
	-D PIN_USER_BTN=21
	-D PIN_STATUS_LED=48
	-D SX126X_RXEN=38
	-D SX126X_TXEN=RADIOLIB_NC
	-D SX126X_DIO2_AS_RF_SWITCH=true
	-D SX126X_DIO3_TCXO_VOLTAGE=1.8
	-D SX126X_CURRENT_LIMIT=140
	-D RADIO_CLASS=CustomSX1262
	-D WRAPPER_CLASS=CustomSX1262Wrapper
	-D LORA_TX_POWER=22
	-D SX126X_RX_BOOSTED_GAIN=1
build_src_filter = ${esp32_base.build_src_filter}
	+<../variants/xiao_s3_wio>

[env:Xiao_S3_WIO_Repeater]
extends = Xiao_S3_WIO
build_src_filter = ${Xiao_S3_WIO.build_src_filter}
	+<../examples/simple_repeater/main.cpp>
build_flags = 
	${Xiao_S3_WIO.build_flags}
	-D ADVERT_NAME='"XiaoS3 Repeater"'
	-D ADVERT_LAT=0.0
	-D ADVERT_LON=0.0
	-D ADMIN_PASSWORD='"password"'
	-D MAX_NEIGHBOURS=8
lib_deps = 
	${Xiao_S3_WIO.lib_deps}
	${esp32_ota.lib_deps}
	rweather/Crypto@^0.4.0
